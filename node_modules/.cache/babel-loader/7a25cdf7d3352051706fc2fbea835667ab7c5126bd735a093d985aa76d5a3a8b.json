{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import { useParams, useNavigate } from \"react-router-dom\";\n// import axios from \"axios\";\n// import \"./App.css\";\n// const RestaurantDetails = () => {\n//   const { id } = useParams();\n//   const navigate = useNavigate();\n//   const [restaurant, setRestaurant] = useState(null);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n//   useEffect(() => {\n//     // axios\n//     //   .get(`http://localhost:5400/restaurants/${id}`)\n//     //   .then((response) => {\n//     //     setRestaurant(response.data);\n//     //     setLoading(false);\n//     //   })\n//     //   .catch((error) => {\n//     //     setError(\"Failed to fetch restaurant details.\");\n//     //     setLoading(false);\n//     //   });\n//     axios\n//   .get(`http://localhost:5400/restaurants/${id}`)\n//   .then((response) => {\n//     setRestaurant(response.data.restaurant); // Ensure correct data extraction\n//     setLoading(false);\n//   })\n//   .catch(() => {\n//     setError(\"Failed to fetch restaurant details.\");\n//     setLoading(false);\n//   });\n//   }, [id]);\n//   if (loading) return <p className=\"loading\">Loading...</p>;\n//   if (error) return <p className=\"error\">{error}</p>;\n//   return (\n//     <div className=\"restaurant-detail-container\">\n//       <button onClick={() => navigate(-1)} className=\"back-button\">⬅ Go Back</button>\n//       <h1 className=\"restaurant-title\">{restaurant.restaurant}</h1>\n//       <img\n//         src={restaurant.image || \"/default-restaurant.jpg\"}\n//         alt={restaurant.restaurant}\n//         className=\"restaurant-detail-image\"\n//       />\n//       <p className=\"restaurant-city\">📍 Location: {restaurant.city}</p>\n//       <p className=\"restaurant-description\">\n//         🍽️ A wonderful place for delicious food and a great ambiance.\n//       </p>\n//     </div>\n//   );\n// };\n// export default RestaurantDetails;\nimport React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import axios from\"axios\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RestaurantDetails=()=>{var _restaurant$reviews,_restaurant$reviews2;const{id}=useParams();const navigate=useNavigate();const[restaurant,setRestaurant]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[newReview,setNewReview]=useState({username:\"\",rating:5,comment:\"\"});useEffect(()=>{axios.get(`https://server2-jbon.onrender.com /${id}`).then(response=>{setRestaurant(response.data.restaurant);// Ensure correct data extraction\nsetLoading(false);}).catch(()=>{setError(\"Failed to fetch restaurant details.\");setLoading(false);});},[id]);const handleReviewSubmit=e=>{e.preventDefault();if(newReview.username&&newReview.comment){const updatedReviews=[...(restaurant.reviews||[]),newReview];setRestaurant({...restaurant,reviews:updatedReviews});setNewReview({username:\"\",rating:5,comment:\"\"});}};if(loading)return/*#__PURE__*/_jsx(\"p\",{className:\"loading\",children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error});const averageRating=(_restaurant$reviews=restaurant.reviews)!==null&&_restaurant$reviews!==void 0&&_restaurant$reviews.length?(restaurant.reviews.reduce((sum,review)=>sum+review.rating,0)/restaurant.reviews.length).toFixed(1):\"No Ratings Yet\";return/*#__PURE__*/_jsxs(\"div\",{className:\"restaurant-detail-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"back-button\",children:\"\\u2B05 Go Back\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"restaurant-title\",children:restaurant.restaurant}),/*#__PURE__*/_jsx(\"img\",{src:restaurant.image||\"/default-restaurant.jpg\",alt:restaurant.restaurant,className:\"restaurant-detail-image\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"restaurant-city\",children:[\"\\uD83D\\uDCCD Location: \",restaurant.city]}),/*#__PURE__*/_jsx(\"p\",{className:\"restaurant-description\",children:\"\\uD83C\\uDF7D\\uFE0F A wonderful place for delicious food and a great ambiance.\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"average-rating\",children:[\"\\u2B50 \",averageRating,\" / 5\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reviews-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Customer Reviews\"}),((_restaurant$reviews2=restaurant.reviews)===null||_restaurant$reviews2===void 0?void 0:_restaurant$reviews2.length)>0?restaurant.reviews.map((review,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"review-card\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"review-user\",children:[/*#__PURE__*/_jsx(\"strong\",{children:review.username}),\" \\u2B50 \",review.rating,\"/5\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"review-comment\",children:[\"\\\"\",review.comment,\"\\\"\"]})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No reviews yet.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-review-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add a Review\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleReviewSubmit,className:\"review-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your Name\",value:newReview.username,onChange:e=>setNewReview({...newReview,username:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"select\",{value:newReview.rating,onChange:e=>setNewReview({...newReview,rating:parseInt(e.target.value)}),children:[5,4,3,2,1].map(rating=>/*#__PURE__*/_jsxs(\"option\",{value:rating,children:[rating,\" Stars\"]},rating))}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Write a review...\",value:newReview.comment,onChange:e=>setNewReview({...newReview,comment:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Submit Review\"})]})]})]});};export default RestaurantDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","RestaurantDetails","_restaurant$reviews","_restaurant$reviews2","id","navigate","restaurant","setRestaurant","loading","setLoading","error","setError","newReview","setNewReview","username","rating","comment","get","then","response","data","catch","handleReviewSubmit","e","preventDefault","updatedReviews","reviews","className","children","averageRating","length","reduce","sum","review","toFixed","onClick","src","image","alt","city","map","index","onSubmit","type","placeholder","value","onChange","target","required","parseInt"],"sources":["D:/MIN MERN/ZomatoData/Phase-4/client/src/RestaurantDetails.jsx"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\n// import { useParams, useNavigate } from \"react-router-dom\";\n// import axios from \"axios\";\n// import \"./App.css\";\n\n// const RestaurantDetails = () => {\n//   const { id } = useParams();\n//   const navigate = useNavigate();\n//   const [restaurant, setRestaurant] = useState(null);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n\n//   useEffect(() => {\n//     // axios\n//     //   .get(`http://localhost:5400/restaurants/${id}`)\n//     //   .then((response) => {\n//     //     setRestaurant(response.data);\n//     //     setLoading(false);\n//     //   })\n//     //   .catch((error) => {\n//     //     setError(\"Failed to fetch restaurant details.\");\n//     //     setLoading(false);\n//     //   });\n\n//     axios\n//   .get(`http://localhost:5400/restaurants/${id}`)\n//   .then((response) => {\n//     setRestaurant(response.data.restaurant); // Ensure correct data extraction\n//     setLoading(false);\n//   })\n//   .catch(() => {\n//     setError(\"Failed to fetch restaurant details.\");\n//     setLoading(false);\n//   });\n\n//   }, [id]);\n\n//   if (loading) return <p className=\"loading\">Loading...</p>;\n//   if (error) return <p className=\"error\">{error}</p>;\n\n//   return (\n//     <div className=\"restaurant-detail-container\">\n//       <button onClick={() => navigate(-1)} className=\"back-button\">⬅ Go Back</button>\n\n//       <h1 className=\"restaurant-title\">{restaurant.restaurant}</h1>\n//       <img\n//         src={restaurant.image || \"/default-restaurant.jpg\"}\n//         alt={restaurant.restaurant}\n//         className=\"restaurant-detail-image\"\n//       />\n//       <p className=\"restaurant-city\">📍 Location: {restaurant.city}</p>\n//       <p className=\"restaurant-description\">\n//         🍽️ A wonderful place for delicious food and a great ambiance.\n//       </p>\n//     </div>\n//   );\n// };\n\n// export default RestaurantDetails;\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"./App.css\";\n\nconst RestaurantDetails = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [restaurant, setRestaurant] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [newReview, setNewReview] = useState({ username: \"\", rating: 5, comment: \"\" });\n\n  useEffect(() => {\n    axios\n      .get(`https://server2-jbon.onrender.com /${id}`)\n      .then((response) => {\n        setRestaurant(response.data.restaurant); // Ensure correct data extraction\n        setLoading(false);\n      })\n      .catch(() => {\n        setError(\"Failed to fetch restaurant details.\");\n        setLoading(false);\n      });\n  }, [id]);\n\n  const handleReviewSubmit = (e) => {\n    e.preventDefault();\n    if (newReview.username && newReview.comment) {\n      const updatedReviews = [...(restaurant.reviews || []), newReview];\n      setRestaurant({ ...restaurant, reviews: updatedReviews });\n      setNewReview({ username: \"\", rating: 5, comment: \"\" });\n    }\n  };\n\n  if (loading) return <p className=\"loading\">Loading...</p>;\n  if (error) return <p className=\"error\">{error}</p>;\n\n  const averageRating = restaurant.reviews?.length\n    ? (restaurant.reviews.reduce((sum, review) => sum + review.rating, 0) / restaurant.reviews.length).toFixed(1)\n    : \"No Ratings Yet\";\n\n  return (\n    <div className=\"restaurant-detail-container\">\n      <button onClick={() => navigate(-1)} className=\"back-button\">⬅ Go Back</button>\n      <h1 className=\"restaurant-title\">{restaurant.restaurant}</h1>\n      <img src={restaurant.image || \"/default-restaurant.jpg\"} alt={restaurant.restaurant} className=\"restaurant-detail-image\" />\n      <p className=\"restaurant-city\">📍 Location: {restaurant.city}</p>\n      <p className=\"restaurant-description\">🍽️ A wonderful place for delicious food and a great ambiance.</p>\n      <p className=\"average-rating\">⭐ {averageRating} / 5</p>\n      \n      <div className=\"reviews-section\">\n        <h2>Customer Reviews</h2>\n        {restaurant.reviews?.length > 0 ? (\n          restaurant.reviews.map((review, index) => (\n            <div key={index} className=\"review-card\">\n              <p className=\"review-user\"><strong>{review.username}</strong> ⭐ {review.rating}/5</p>\n              <p className=\"review-comment\">\"{review.comment}\"</p>\n            </div>\n          ))\n        ) : (\n          <p>No reviews yet.</p>\n        )}\n      </div>\n      \n      <div className=\"add-review-section\">\n        <h2>Add a Review</h2>\n        <form onSubmit={handleReviewSubmit} className=\"review-form\">\n          <input\n            type=\"text\"\n            placeholder=\"Your Name\"\n            value={newReview.username}\n            onChange={(e) => setNewReview({ ...newReview, username: e.target.value })}\n            required\n          />\n          <select value={newReview.rating} onChange={(e) => setNewReview({ ...newReview, rating: parseInt(e.target.value) })}>\n            {[5, 4, 3, 2, 1].map((rating) => (\n              <option key={rating} value={rating}>{rating} Stars</option>\n            ))}\n          </select>\n          <textarea\n            placeholder=\"Write a review...\"\n            value={newReview.comment}\n            onChange={(e) => setNewReview({ ...newReview, comment: e.target.value })}\n            required\n          />\n          <button type=\"submit\" className=\"submit-button\">Submit Review</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default RestaurantDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}